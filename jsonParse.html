<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<script src="http://momentjs.com/downloads/moment-with-locales.js"></script>
<script type="text/javascript">

    function parseTimes(timeList){

        var atime = totalTime.split('-')[0].replace(/\s+/g, "").replace("am","");
        var btime = totalTime.split('-')[1].replace(/\s+/g, "").replace("am","");

        var atimeInt;
        var btimeInt; 

        var aDate = new Date()
        var bDate = new Date()

        var ahours = 0
        var aminutes = 0

        var bhours = 0
        var bminutes = 0

        if(atime.indexOf("pm") > -1){
            atime.replace("pm","")
            if(parseInt(atime.split(":")[0]) < 12){
                ahours += 12;       
            }
        }

        if(btime.indexOf("pm") > -1){
            btime.replace("pm","")
            if(parseInt(btime.split(":")[0]) < 12){
                bhours += 12;       
            }
        }

        ahours += parseInt(atime.split(":")[0]);
        aminutes += parseInt(atime.split(":")[1]);

        bhours += parseInt(btime.split(":")[0]) ;
        bminutes += parseInt(btime.split(":")[1]);
       
        aDate.setHours(ahours);
        aDate.setMinutes(aminutes);
  
        bDate.setHours(bhours);
        bDate.setMinutes(bminutes);

        var miliDur = Math.abs(aDate - bDate);
        
        return miliDur/1000/60;
    }
	$.getJSON('https://yourtru.ca/2017/classes.json', function(data) {
	Classjson = data;
	NewClassJson = {};
	for (var classes in Classjson){
    	totalTime = Classjson[classes]['Times'];
    	if(totalTime.split('-')[0] == undefined || totalTime.split('-')[1] == undefined) continue;
        var dur = parseTimes(totalTime.split('-'))
        //console.log(dur)
        //console.log(Classjson[classes])
        if(isNaN(dur)){
            console.log(Classjson[classes])
        }

        

	}
});
</script>
</head>

